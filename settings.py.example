import os
from helpers.imgtools import SingleColor, LinearGradientColor

TOKEN = ''
PREFIX = '>'
DESCRIPTION = 'This is a KGS501 Productions bot!'
PRINT_LOGGING = True

FONTS = {
    'default': os.path.join('fonts', 'Product_Sans_Regular.ttf')
}

IMAGES_LOAD_MEMORY = [
    {'prefix': 'emojis', 'directory': os.path.join('images', 'emojis')},
    {'prefix': '', 'file': os.path.join('images', 'profile_template.png')}
]

PROFILE_IMAGE = lambda x: [
    {'pos': (0, 0), 'image': {
        'empty': True, 'resize': (600, 150)
    }},
    {'pos': (15, 14), 'image': {
        'url': x['avatar_url'], 'resize': (123, 123)
    }},
    {'pos': (0, 0), 'image': {
        'memory': '/profile_template.png'
    }},
    {'pos': (147, 9), 'image': {
        'emoji': x['member'].top_role.name[0],
        'resize': (40, 40)
    }},
    {'pos': (145, 111), 'progress': {
        'percentage': x['xp_percentage'],
        'width': 10,
        'size': (414, 0),
        'color': LinearGradientColor((24,  110, 241, 255),
                                     (7, 222, 255, 255),
                                     1)
    }},
    {'pos': (200, 16), 'text': {
        'font': 'default',
        'font_size': min(35, max(10, int(520 / len(str(x['name']))))),
        'text': str(x['name']),
        'color': x['color'],
        'max_size': (300, 35)
    }},
    {'pos': (150, 87), 'text': {
        'font': 'default',
        'font_size': 22,
        'text': 'Lvl.',
        'color': (103, 103, 103),
        'max_size':  (30, 22)
    }},
    {'pos': (185, 83), 'text': {
        'font': 'default',
        'font_size': 28,
        'text': str(x['lvl']),
        'color': (255, 255, 255),
        'max_size': (100, 28),
     }},
    {'pos': (587, 16), 'align': 'right', 'text': {
        'font': 'default',
        'font_size': 28,
        'text_align': 'right',
        'text': '#' + str(x['rank']),
        'color': x['color'],
        'max_size': (80, 28)
    }},
    {'pos': (587, 66), 'align': 'right', 'text': {
        'font': 'default',
        'font_size': 20,
        'text_align': 'right',
        'text': '{:.2f}x'.format(x['xp_multiplier']) if x['xp_multiplier'] != 1 else '',
        'color': (102, 172, 47) if x['xp_multiplier'] > 1 else (60, 20, 220),
        'max_size': (150, 20),
    }},
    {'pos': (580, 90), 'align': 'right', 'text': {
        'font': 'default',
        'font_size': 18,
        'text_align': 'right',
        'text': str(x['xp']) + ' / ' + str(x['max_xp']) + ' XP',
        'color': (170, 170, 170),
        'max_size': (280, 18),
    }}
]
